"use client";

/**
 * 예측 시장 Rules 내용 – 시장별 규칙 설명
 * - 한국 시간 기준, 시가/종가(다음날 00:00), 당첨/무효, 정배·역배(파리뮤추얼)
 */

import type { SentimentMarket } from "@/lib/constants/sentiment-markets";

const RULES_BY_MARKET: Record<SentimentMarket, string> = {
  btc_1d:
    "【1일봉】 당일 00:00(KST) 시작 봉 하나로 승패가 갈립니다.\n\n" +
    "· 목표가 = 오늘 00:00 봉의 시가(직전 봉 종가). Binance 1일봉 기준.\n" +
    "· 투표 마감: 당일 20:30(KST). 마감 후에는 투표·취소 불가.\n" +
    "· 확정 후: 선택 변경·취소 불가. 같은 방향(롱/숏)으로만 추가 배팅 가능.\n\n" +
    "· 당첨: 봉 종가 > 목표가 → 롱 승 / 종가 < 목표가 → 숏 승 / 종가 = 목표가 → 무효(전원 환불).\n" +
    "· 한쪽만 참여(롱만 or 숏만) 또는 1명 이하 → 전원 환불.\n" +
    "· 정상 대결 시 패자 풀을 승자가 배팅 비율대로 나눠 가져갑니다.",
  btc_4h:
    "【4시간봉】 00:00, 04:00, 08:00, 12:00, 16:00, 20:00(KST) 시작 봉별로 승패가 갈립니다.\n\n" +
    "· 목표가 = 해당 4시간 봉의 시가(직전 4h 봉 종가). Binance 4시간봉 기준.\n" +
    "· 투표 마감: 현재 봉 시작 후 2시간. 마감 후에는 투표·취소 불가.\n" +
    "· 확정 후: 선택 변경·취소 불가. 같은 방향으로만 추가 배팅 가능.\n\n" +
    "· 당첨: 봉 종가 > 목표가 → 롱 승 / 종가 < 목표가 → 숏 승 / 같으면 무효(전원 환불).\n" +
    "· 한쪽만 참여 또는 1명 이하 → 전원 환불. 정상 대결 시 패자 풀을 승자가 비율대로 분배.",
  btc_1h:
    "【1시간봉】 매시 00분(KST) 시작 봉별로 승패가 갈립니다.\n\n" +
    "· 목표가 = 해당 1시간 봉의 시가(직전 1h 봉 종가). Binance 1시간봉 기준.\n" +
    "· 투표 마감: 현재 봉 시작 후 30분. 마감 후에는 투표·취소 불가.\n" +
    "· 확정 후: 선택 변경·취소 불가. 같은 방향으로만 추가 배팅 가능.\n\n" +
    "· 당첨: 봉 종가 > 목표가 → 롱 승 / 종가 < 목표가 → 숏 승 / 같으면 무효(전원 환불).\n" +
    "· 한쪽만 참여 또는 1명 이하 → 전원 환불. 정상 대결 시 패자 풀을 승자가 비율대로 분배.",
  btc_15m:
    "【15분봉】 00, 15, 30, 45분(KST) 시작 봉별로 승패가 갈립니다.\n\n" +
    "· 목표가 = 해당 15분 봉의 시가(직전 15m 봉 종가). Binance 15분봉 기준.\n" +
    "· 투표 마감: 현재 봉 시작 후 7분 30초. 마감 후에는 투표·취소 불가.\n" +
    "· 확정 후: 선택 변경·취소 불가. 같은 방향으로만 추가 배팅 가능.\n\n" +
    "· 당첨: 봉 종가 > 목표가 → 롱 승 / 종가 < 목표가 → 숏 승 / 같으면 무효(전원 환불).\n" +
    "· 한쪽만 참여 또는 1명 이하 → 전원 환불. 정상 대결 시 패자 풀을 승자가 비율대로 분배.",
  ndq:
    "한국 시간 오늘 00:00 시가 대비 다음날 00:00 시가(종가)와 비교하여 정산됩니다. " +
    "투표 마감은 당일 03:30이며, 결과는 다음날 00:01에 정산됩니다.\n\n" +
    "당첨 규칙: 종가 > 시가이면 UP(롱) 당첨, 종가 < 시가이면 DOWN(숏) 당첨, 종가 = 시가이면 무효(전액 환불).\n\n" +
    "정배·역배(파리뮤추얼): 정배는 승률이 높은 쪽에 배팅하여 낮은 배당, 역배는 언더독에 배팅하여 적중 시 높은 배당. " +
    "총 풀을 당첨자가 배팅 비율대로 분배받습니다.",
  sp500:
    "한국 시간 오늘 00:00 시가 대비 다음날 00:00 시가(종가)와 비교하여 정산됩니다. " +
    "투표 마감은 당일 03:30이며, 결과는 다음날 00:01에 정산됩니다.\n\n" +
    "당첨 규칙: 종가 > 시가이면 UP(롱) 당첨, 종가 < 시가이면 DOWN(숏) 당첨, 종가 = 시가이면 무효(전액 환불).\n\n" +
    "정배·역배(파리뮤추얼): 정배는 승률이 높은 쪽에 배팅하여 낮은 배당, 역배는 언더독에 배팅하여 적중 시 높은 배당. " +
    "총 풀을 당첨자가 배팅 비율대로 분배받습니다.",
  kospi:
    "한국 시간 오늘 00:00 시가 대비 다음날 00:00 시가(종가)와 비교하여 정산됩니다. " +
    "투표 마감은 당일 13:00이며, 결과는 다음날 00:01에 정산됩니다.\n\n" +
    "당첨 규칙: 종가 > 시가이면 UP(롱) 당첨, 종가 < 시가이면 DOWN(숏) 당첨, 종가 = 시가이면 무효(전액 환불).\n\n" +
    "정배·역배(파리뮤추얼): 정배는 승률이 높은 쪽에 배팅하여 낮은 배당, 역배는 언더독에 배팅하여 적중 시 높은 배당. " +
    "총 풀을 당첨자가 배팅 비율대로 분배받습니다.",
  kosdaq:
    "한국 시간 오늘 00:00 시가 대비 다음날 00:00 시가(종가)와 비교하여 정산됩니다. " +
    "투표 마감은 당일 13:00이며, 결과는 다음날 00:01에 정산됩니다.\n\n" +
    "당첨 규칙: 종가 > 시가이면 UP(롱) 당첨, 종가 < 시가이면 DOWN(숏) 당첨, 종가 = 시가이면 무효(전액 환불).\n\n" +
    "정배·역배(파리뮤추얼): 정배는 승률이 높은 쪽에 배팅하여 낮은 배당, 역배는 언더독에 배팅하여 적중 시 높은 배당. " +
    "총 풀을 당첨자가 배팅 비율대로 분배받습니다.",
};

type Props = {
  market: SentimentMarket;
};

export function PollRulesContent({ market }: Props) {
  const rules = RULES_BY_MARKET[market] ?? RULES_BY_MARKET.btc_1d;

  return (
    <div className="rounded-lg border border-border bg-muted/20 p-4">
      <h4 className="mb-2 text-sm font-semibold text-foreground">시장 규칙</h4>
      <p className="whitespace-pre-line text-xs leading-relaxed text-muted-foreground">
        {rules}
      </p>
    </div>
  );
}
